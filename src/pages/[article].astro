---
import ArticleComponent from "@layouts/Article.astro";
import { getEntry } from "astro:content";

const { article: articleParam } = Astro.params;

if (!articleParam) {
  return Astro.redirect("/404");
}

const article = await getEntry("articles", articleParam);

if (!article) {
  return Astro.redirect("/404");
}

const { Content, remarkPluginFrontmatter } = await article.render();
---

<ArticleComponent
  {...article.data}
  readingTime={remarkPluginFrontmatter.minutesRead}
  description={remarkPluginFrontmatter.description}
>
  <Content />
</ArticleComponent>
